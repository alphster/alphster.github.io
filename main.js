!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e){t.exports=Phaser},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GAME_WIDTH=window.innerWidth,e.GAME_HEIGHT=window.innerHeight,e.PHYSICS_DEFAULT="arcade",e.GRAVITY=300,e.MAIN_SCENE="main-scene",e.TITLE_SCENE="title-scene"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),new(n(3).MainGame)},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(n(0)),c=n(1),u=n(4),s=n(7),f=function(t){function e(){return t.call(this,{type:a.default.AUTO,width:c.GAME_WIDTH,height:c.GAME_HEIGHT,backgroundColor:2171169,physics:{default:c.PHYSICS_DEFAULT,arcade:{gravity:{y:c.GRAVITY}}},scene:[new u.StartScene(c.MAIN_SCENE),new s.MainScene]})||this}return o(e,t),e}(a.default.Game);e.MainGame=f},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(n(5)),c=i(n(6)),u=n(1),s=function(t){function e(e){var n=t.call(this,u.TITLE_SCENE)||this;return n.preload=function(){n.load.bitmapFont("deadman",c.default,a.default)},n.create=function(){n.scene.start(n.nextScene),n.cameras.main.setBackgroundColor(3622735)},n.nextScene=e,n}return o(e,t),e}(n(0).Scene);e.StartScene=s},function(t,e,n){t.exports=n.p+"3c70275686df9ff4905f127f9660bf9c.fnt"},function(t,e,n){t.exports=n.p+"6586733eacb3d22bdf34f7c73ffd0430.png"},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),a=n(8),c=n(9),u=function(t){function e(){var e=t.call(this,i.MAIN_SCENE)||this;return e.preload=function(){var t;e.load.on("progress",(function(n){t||(t=new a.ProgressBar(e,i.GAME_WIDTH/2,i.GAME_HEIGHT/2)),t.setProgress(n)})),e.load.on("complete",(function(){console.log("complete"),t.destroy()})),e.load.setBaseURL("http://labs.phaser.io");for(var n=0;n<10;n++);},e.create=function(){e.add.existing(new c.MatchBoard(e,i.GAME_WIDTH/2-305,i.GAME_HEIGHT/2-305))},e}return o(e,t),e}(Phaser.Scene);e.MainScene=u},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,n,r){var o=t.call(this,e,n,r)||this;return o.setProgress=function(t){o.bar.fillRect(10,10,300*t,30),o.pct.setText(Math.round(100*t)+"%")},o.destroy=function(){o.each((function(t){return t.destroy()}))},o.box=e.add.graphics().fillStyle(8947848,.3).fillRect(0,0,320,50).setX(-160).setY(-25),o.bar=e.add.graphics().setX(-160).setY(-25),o.loading=e.add.bitmapText(0,-60,"deadman","Loading...",36).setOrigin(.5).setTint(16777215).setCenterAlign(),o.pct=e.add.bitmapText(0,0,"deadman","0%",24).setOrigin(.5).setTint(16777215).setCenterAlign(),o.add([o.box,o.bar,o.loading,o.pct]),o.scene.add.existing(o),o}return o(e,t),e}(n(0).GameObjects.Container);e.ProgressBar=i},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),a=n(10),c=function(t){function e(e,n,r){var o=t.call(this,e,n,r)||this;o.border=e.add.graphics().fillStyle(3622735).fillRect(0,0,610,610).setX(0).setY(0),o.add([o.border]);for(var i,c,u,s,f=[],l=0;l<6;l++){f.push([]);for(var d=0;d<6;d++){var p=new a.MatchTile(o,e,l,d,90*l+10+10*l,90*d+10+10*d);f[l].push(p),o.add(p)}}o.scene.add.existing(o);var _,h=0,g=0;return o.scene.input.on("pointerdown",(function(t,e){console.log("pointerDown"),c=t.x,u=t.y})),o.scene.input.on("dragstart",(function(t,e){console.log("dragStart"),(i=Math.abs(c-t.x)<=Math.abs(u-t.y))?(s=f[e.boardX],_=e.boardX):(s=f.map((function(t){return t[e.boardY]})),_=e.boardY)})),o.scene.input.on("drag",(function(t,n,r,c){var u;if(i?(u=c-n.origY,s.forEach((function(t){return t.setY(t.origY+u)}))):(u=r-n.origX,s.forEach((function(t){return t.setX(t.origX+u)}))),u/100>g){console.log(u/100,g),g++,console.log(g);var f=new a.MatchTile(o,e,0,0,s[0].x-(i?0:100),s[0].y-(i?100:0),s[0].origX-(i?0:100),s[0].origY-(i?100:0));s.unshift(f),o.add(f)}if(u/100<-h){console.log(u/100,h),h++,console.log(h);f=new a.MatchTile(o,e,0,0,s[s.length-1].x+(i?0:100),s[s.length-1].y+(i?100:0),s[s.length-1].origX+(i?0:100),s[s.length-1].origY+(i?100:0));s.push(f),o.add(f)}})),o.scene.input.on("dragend",(function(t,e){var n;if(console.log("dragEnd"),i){var r=(e.y-e.origY)%100;0!==r&&(Math.abs(r)<=50?s.forEach((function(t){return t.setY(t.y-r)})):s.forEach((function(t){return t.setY(t.y+100*Math.sign(r)-r)}))),n=e.y-e.origY}else{var a=(e.x-e.origX)%100;0!==a&&(Math.abs(a)<=50?s.forEach((function(t){return t.setX(t.x-a)})):s.forEach((function(t){return t.setX(t.x+100*Math.sign(a)-a)}))),n=e.x-e.origX}var c=Math.abs(n/100),u=Math.abs(c-g),l=Math.abs(c-h),d=[],p=s.reduce((function(t,e,n){return n<u?d.push(e):s.length-n<=l?d.push(e):t.push(e),t}),[]);d.forEach((function(t){return o.remove(t,!0)})),console.log("sibct",p.length),i?(p.forEach((function(t,e){return t.updateBoardXY(_,e)})),f[_]=p):(p.forEach((function(t,e){return t.updateBoardXY(e,_)})),f.forEach((function(t,e){return t[_]=p[e]}))),h=0,g=0})),o}return o(e,t),e}(i.GameObjects.Container);e.MatchBoard=c},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),a=[15037299,12216520,7964363,5227511,5093036,11457921,16773494,16758605],c=function(t){function e(e,n,r,o,c,u,s,f){var l=t.call(this,n,c,u)||this;return l.updateBoardXY=function(t,e){l.boardX=t,l.boardY=e,l.origX=l.x,l.origY=l.y},l.board=e,l.boardX=r,l.boardY=o,l.isDragging=!1,l.origX=s||c,l.origY=f||u,l.tile=n.add.graphics().fillStyle(a[Phaser.Math.RND.integerInRange(0,a.length-1)]).fillRect(0,0,90,90).setX(0).setY(0),l.setInteractive(new i.Geom.Rectangle(0,0,90,90),i.Geom.Rectangle.Contains),l.add([l.tile]),l.scene.add.existing(l),console.log(l),l.scene.input.dragDistanceThreshold=2,l.scene.input.setDraggable(l),l}return o(e,t),e}(i.GameObjects.Container);e.MatchTile=c}]);